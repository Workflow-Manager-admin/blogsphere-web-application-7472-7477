{"is_source_file": true, "format": "JavaScript", "description": "Controller for managing blog posts, containing methods for CRUD operations on posts, handling pagination, and managing post statuses.", "external_files": ["../models/Post", "../config/config", "marked"], "external_methods": ["Post.find", "Post.countDocuments", "Post.findById", "Post.findOne", "Post.findByIdAndUpdate", "Post.findByIdAndDelete", "marked.parse"], "published": ["getPosts", "getPost", "createPost", "updatePost", "deletePost", "getUserPosts", "changePostStatus"], "classes": [], "methods": [{"name": "getPosts", "description": "Retrieves a paginated list of published blog posts, with optional filtering by category and tag."}, {"name": "getPost", "description": "Retrieves a single blog post by ID or slug, increments the view count, and populates related fields."}, {"name": "createPost", "description": "Creates a new blog post, processes its Markdown content, and saves it to the database."}, {"name": "updatePost", "description": "Updates an existing blog post after checking authorization, processes the new content, and saves changes."}, {"name": "deletePost", "description": "Deletes a blog post from the database after checking for proper authorization."}, {"name": "getUserPosts", "description": "Retrieves all posts authored by a specific user, including drafts, with proper authorization checks."}, {"name": "changePostStatus", "description": "Changes the status of a blog post, ensuring the user is authorized, including an option to set published date."}], "calls": ["Post.find", "Post.countDocuments", "Post.findById", "Post.findOne", "Post.findByIdAndUpdate", "Post.findByIdAndDelete", "marked.parse"], "search-terms": ["post management", "CRUD operations", "blog posts controller", "pagination", "status management"], "state": 2, "file_id": 16, "knowledge_revision": 33, "git_revision": "", "ctags": [{"_type": "tag", "name": "Post", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^const Post = require('..\\/models\\/Post');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "limit", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const limit = parseInt(req.query.limit, 10) || pagination.defaultLimit;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "marked", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^const marked = require('marked');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newPost", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const newPost = new Post({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const page = parseInt(req.query.page, 10) || 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const post = await Post.findById(req.params.id);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const post = await newPost.save();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    let post = await Post.findById(req.params.id);$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "post", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    let post;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "posts", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const posts = await Post.find(query)$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "posts", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const posts = await Post.find({ author: req.params.userId })$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "processedContent", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    let processedContent = content;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const query = { status: postStatus.PUBLISHED };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "startIndex", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const startIndex = (page - 1) * limit;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "status", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const query = { status: postStatus.PUBLISHED };$/", "language": "JavaScript", "kind": "property", "scope": "query", "scopeKind": "class"}, {"_type": "tag", "name": "total", "path": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "pattern": "/^    const total = await Post.countDocuments(query);$/", "language": "JavaScript", "kind": "constant"}], "filename": "/home/kavia/workspace/blogsphere-web-application-7472-7477/post_management_component/controllers/postController.js", "hash": "1b728d7e5440630984d8807e04d759c0", "format-version": 4, "code-base-name": "default", "fields": [{"name": "let post = await Post.findById(req.params.id);", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let post;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let processedContent = content;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "const query = { status: postStatus.PUBLISHED };", "scope": "query", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"33": ""}]}